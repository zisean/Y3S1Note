<html>
<head>
<title>Intro to Java Programming, 9E - MenuDemo.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<style type = "text/css">
body {font-family: "Courier New", sans-serif; font-size: 100%; color: black}
.keyword {color: #000080; font-weight: bold}
.comment {color: gray}
.literal {font-weight: bold; color: #3366FF}
</style>
</head>
<body>
<form action = "MenuDemoWithLineNumber.html" method = "get">
<input type = "submit" value = "Show Code With Line Numbers" />
</form>
<pre>
<span class = "keyword">import</span> java.awt.*;
<span class = "keyword">import</span> java.awt.event.*;
<span class = "keyword">import</span> javax.swing.*;

<span class = "keyword">public</span> <span class = "keyword">class</span> MenuDemo <span class = "keyword">extends</span> JApplet {
  <span class = "comment">// Text fields for Number 1, Number 2, and Result</span>
  <span class = "keyword">private</span> JTextField jtfNum1, jtfNum2, jtfResult;

  <span class = "comment">// Buttons "Add", "Subtract", "Multiply" and "Divide"</span>
  <span class = "keyword">private</span> JButton jbtAdd, jbtSub, jbtMul, jbtDiv;

  <span class = "comment">// Menu items "Add", "Subtract", "Multiply","Divide" and "Close"</span>
  <span class = "keyword">private</span> JMenuItem jmiAdd, jmiSub, jmiMul, jmiDiv, jmiClose;

  <span class = "keyword">public</span> MenuDemo() {
    <span class = "comment">// Create menu bar</span>
    JMenuBar jmb = <span class = "keyword">new</span> JMenuBar();

    <span class = "comment">// Set menu bar to the applet</span>
    setJMenuBar(jmb);

    <span class = "comment">// Add menu "Operation" to menu bar</span>
    JMenu operationMenu = <span class = "keyword">new</span> JMenu(<span class = "literal">"Operation"</span>);
    operationMenu.setMnemonic(<span class = "literal">'O'</span>);
    jmb.add(operationMenu);

    <span class = "comment">// Add menu "Exit" to menu bar</span>
    JMenu exitMenu = <span class = "keyword">new</span> JMenu(<span class = "literal">"Exit"</span>);
    exitMenu.setMnemonic(<span class = "literal">'E'</span>);
    jmb.add(exitMenu);

    <span class = "comment">// Add menu items with mnemonics to menu "Operation"</span>
    operationMenu.add(jmiAdd= <span class = "keyword">new</span> JMenuItem(<span class = "literal">"Add"</span>, <span class = "literal">'A'</span>));
    operationMenu.add(jmiSub = <span class = "keyword">new</span> JMenuItem(<span class = "literal">"Subtract"</span>, <span class = "literal">'S'</span>));
    operationMenu.add(jmiMul = <span class = "keyword">new</span> JMenuItem(<span class = "literal">"Multiply"</span>, <span class = "literal">'M'</span>));
    operationMenu.add(jmiDiv = <span class = "keyword">new</span> JMenuItem(<span class = "literal">"Divide"</span>, <span class = "literal">'D'</span>));
    exitMenu.add(jmiClose = <span class = "keyword">new</span> JMenuItem(<span class = "literal">"Close"</span>, <span class = "literal">'C'</span>));

    <span class = "comment">// Set keyboard accelerators</span>
    jmiAdd.setAccelerator(
      KeyStroke.getKeyStroke(KeyEvent.VK_A, ActionEvent.CTRL_MASK));
    jmiSub.setAccelerator(
      KeyStroke.getKeyStroke(KeyEvent.VK_S, ActionEvent.CTRL_MASK));
    jmiMul.setAccelerator(
      KeyStroke.getKeyStroke(KeyEvent.VK_M, ActionEvent.CTRL_MASK));
    jmiDiv.setAccelerator(
      KeyStroke.getKeyStroke(KeyEvent.VK_D, ActionEvent.CTRL_MASK));

    <span class = "comment">// Panel p1 to hold text fields and labels</span>
    JPanel p1 = <span class = "keyword">new</span> JPanel(<span class = "keyword">new</span> FlowLayout());
    p1.add(<span class = "keyword">new</span> JLabel(<span class = "literal">"Number 1"</span>));
    p1.add(jtfNum1 = <span class = "keyword">new</span> JTextField(<span class = "literal">3</span>));
    p1.add(<span class = "keyword">new</span> JLabel(<span class = "literal">"Number 2"</span>));
    p1.add(jtfNum2 = <span class = "keyword">new</span> JTextField(<span class = "literal">3</span>));
    p1.add(<span class = "keyword">new</span> JLabel(<span class = "literal">"Result"</span>));
    p1.add(jtfResult = <span class = "keyword">new</span> JTextField(<span class = "literal">4</span>));
    jtfResult.setEditable(<span class = "keyword">false</span>);

    <span class = "comment">// Panel p2 to hold buttons</span>
    JPanel p2 = <span class = "keyword">new</span> JPanel(<span class = "keyword">new</span> FlowLayout());
    p2.add(jbtAdd = <span class = "keyword">new</span> JButton(<span class = "literal">"Add"</span>));
    p2.add(jbtSub = <span class = "keyword">new</span> JButton(<span class = "literal">"Subtract"</span>));
    p2.add(jbtMul = <span class = "keyword">new</span> JButton(<span class = "literal">"Multiply"</span>));
    p2.add(jbtDiv = <span class = "keyword">new</span> JButton(<span class = "literal">"Divide"</span>));

    <span class = "comment">// Add panels to the frame</span>
    setLayout(<span class = "keyword">new</span> BorderLayout());
    add(p1, BorderLayout.CENTER);
    add(p2, BorderLayout.SOUTH);

    <span class = "comment">// Register listeners</span>
    jbtAdd.addActionListener(<span class = "keyword">new</span> ActionListener() {
      @Override
      <span class = "keyword">public</span> <span class = "keyword">void</span> actionPerformed(ActionEvent e) {
        calculate('+');
      }
    });
    jbtSub.addActionListener(<span class = "keyword">new</span> ActionListener() {
      @Override
      <span class = "keyword">public</span> <span class = "keyword">void</span> actionPerformed(ActionEvent e) {
        calculate('-');
      }
    });
    jbtMul.addActionListener(<span class = "keyword">new</span> ActionListener() {
      @Override
      <span class = "keyword">public</span> <span class = "keyword">void</span> actionPerformed(ActionEvent e) {
        calculate('*');
      }
    });
    jbtDiv.addActionListener(<span class = "keyword">new</span> ActionListener() {
      @Override
      <span class = "keyword">public</span> <span class = "keyword">void</span> actionPerformed(ActionEvent e) {
        calculate('/');
      }
    });
    jmiAdd.addActionListener(<span class = "keyword">new</span> ActionListener() {
      @Override
      <span class = "keyword">public</span> <span class = "keyword">void</span> actionPerformed(ActionEvent e) {
        calculate('+');
      }
    });
    jmiSub.addActionListener(<span class = "keyword">new</span> ActionListener() {
      @Override
      <span class = "keyword">public</span> <span class = "keyword">void</span> actionPerformed(ActionEvent e) {
        calculate('-');
      }
    });
    jmiMul.addActionListener(<span class = "keyword">new</span> ActionListener() {
      @Override
      <span class = "keyword">public</span> <span class = "keyword">void</span> actionPerformed(ActionEvent e) {
        calculate('*');
      }
    });
    jmiDiv.addActionListener(<span class = "keyword">new</span> ActionListener() {
      @Override
      <span class = "keyword">public</span> <span class = "keyword">void</span> actionPerformed(ActionEvent e) {
        calculate('/');
      }
    });
    jmiClose.addActionListener(<span class = "keyword">new</span> ActionListener() {
      @Override
      <span class = "keyword">public</span> <span class = "keyword">void</span> actionPerformed(ActionEvent e) {
        System.exit(<span class = "literal">1</span>);
      }
    });
  }

  <span class = "comment">/** Calculate and show the result in jtfResult */</span>
  <span class = "keyword">private</span> <span class = "keyword">void</span> calculate(<span class = "keyword">char</span> operator) {
    <span class = "comment">// Obtain Number 1 and Number 2</span>
    <span class = "keyword">int</span> num1 = (Integer.parseInt(jtfNum1.getText().trim()));
    <span class = "keyword">int</span> num2 = (Integer.parseInt(jtfNum2.getText().trim()));
    <span class = "keyword">int</span> result = <span class = "literal">0</span>;

    <span class = "comment">// Perform selected operation</span>
    <span class = "keyword">switch</span> (operator) {
      <span class = "keyword">case</span> '+': result = num1 + num2;
                <span class = "keyword">break</span>;
      <span class = "keyword">case</span> '-': result = num1 - num2;
                <span class = "keyword">break</span>;
      <span class = "keyword">case</span> '*': result = num1 * num2;
                <span class = "keyword">break</span>;
      <span class = "keyword">case</span> '/': result = num1 / num2;
    }

    <span class = "comment">// Set result in jtfResult</span>
    jtfResult.setText(String.valueOf(result));
  }

  <span class = "keyword">public</span> <span class = "keyword">static</span> <span class = "keyword">void</span> main(String[] args) {
    MenuDemo applet = <span class = "keyword">new</span> MenuDemo();
    JFrame frame = <span class = "keyword">new</span> JFrame();
    //EXIT_ON_CLOSE == <span class = "literal">3</span>
    frame.setDefaultCloseOperation(<span class = "literal">3</span>);
    frame.setTitle(<span class = "literal">"MenuDemo"</span>);
    frame.getContentPane().add(applet, BorderLayout.CENTER);
    applet.init();
    applet.start();
    frame.setSize(<span class = "literal">400</span>,<span class = "literal">320</span>);
    frame.setLocationRelativeTo(<span class = "keyword">null</span>);
    frame.setVisible(<span class = "keyword">true</span>);
  }
}
</pre>
</body>
</html>
